---
layout: null
permalink: '/widgets/v1/publication-card/'
---

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Publications</title>

    <!-- Stylesheets -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link href="https://fonts.googleapis.com/css?family=Playfair+Display:700,900" rel="stylesheet">

    <!-- JavaScript files -->
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"
        integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js"
        integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF"
        crossorigin="anonymous"></script>
</head>

<body>
    <div class="my-1 p-3 pb-4 publication-card d-none">
        <div class="row g-0">
            <div class="container">
                <div class="clearfix">
                    <div class="row pt-2">
                        <div class="col d-flex flex-wrap">
                            <b><span class="text-primary research-title"></span></b><br>
                        </div>
                    </div>
                    <div class="research-authors"></div>
                    <i class="research-venue"></i>, <span class="research-year"></span><br>
                    <span>doi: <a class="text-muted research-doi" href="#" target="_blank"></a></span>
                </div>

                <div class="row pt-2">
                    <div class="col d-flex flex-wrap research-links"></div>
                    <div class="mt-2 research-tags"></div>
                </div>
            </div>
        </div>
</body>

<script>
    $(document).ready(() => {
        const API_BASE = 'https://api.ce.pdn.ac.lk/publications/v1';
        const params = new URLSearchParams(location.search);
        const doi = params.get('doi')
        const url = `${API_BASE}/${doi}`

        $.ajax({
            url: url,
            type: "GET",
            success: function (data) {
                console.log(url, data);

                $('title').html(data.title);
                $('.research-title').html(data.title);
                $('.research-venue').html(data.venue);
                $('.research-year').html(data.year);


                $('.research-doi').html(doi).attr('href', 'https://doi.org/' + doi);

                if (data.pdf_url != '#') {
                    $('.research-links').append(`<a class="btn-link me-2" href="${data.pdf_url}" target="_blank">[ PDF ]</a>`);
                }
                if (data.preprint_url != '#') {
                    $('.research-links').append(`<a class="btn-link me-2" href="${data.preprint_url}" target="_blank">[ PDF (Preprint) ]</a>`);
                }
                if (data.presentation_url != '#') {
                    $('.research-links').append(`<a class="btn-link me-2" href="${data.presentation_url}" target="_blank">[ Presentation ]</a>`);
                }
                if (data.project_url != '#') {
                    $('.research-links').append(`<a class="btn-link me-2" href="${data.project_url}" target="_blank">[ Project ]</a>`);
                }
                if (data.codebase != '#') {
                    $('.research-links').append(`<a class="btn-link me-2" href="${data.codebase}" target="_blank">[ Codebase ]</a>`);
                }

                // Research Tags
                const tags = data.tags.map((tag) => {
                    return `<span class="me-2 badge rounded-pill bg-secondary">${tag}</span>`;
                }).reduce((obj, current) => {
                    return obj + '\n' + current;
                })
                $('.research-tags').html(tags);

                // Research Authors
                const authors = data.author_info.map((author) => {
                    if (author.profile_url == '#') {
                        return `<span class="me-1">${author.name}</span>`;
                    } else {
                        return `<a class="text-decoration-none" href="${author.profile_url}" target="_blank">${author.name}</a>`;
                    }
                }).reduce((obj, current) => {
                    return obj + ', ' + current;
                })
                $('.research-authors').html(authors);

                // Show the content 
                $('.publication-card').removeClass('d-none');

            },
            error: function (xhr, textStatus, errorThrown) {
                // Handle errors
                console.log(textStatus, errorThrown);
            }
        });

    });
</script>

<noscript>
    <!-- Not supported.  -->
</noscript>

</html>